<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="vue.js"></script>
	</head>

	<body>
		<div id="app">

			<ul>
				<li v-for="items in fomateMovie">{{items}}</li>
			</ul>
			<button v-on:click="addMovies">添加电影</button>
		</div>
		<script>
			new Vue({
				el: "#app",
				data: {
					movies: [{
						name: "sds",
						year: 23
					}, {
						name: "xyz",
						year: 234
					}, {
						name: "abc",
						year: 2345
					}]
				},
				watch: {
					movies: function(newValue) {
						alert("我添加了" + newValue[newValue.length - 1].name + "这部电影")
					}
				},
				computed: {
					fomateMovie: function() {
						return this.movies.map(
							function(movie) { //遍历movies
								return movie.name + " ( " + movie.year + " ) ";
							})
					}
				},
				methods: {
					addMovies: function() {
						this.movies.push({
							name: "zheng",
							year: 3434
						})
					}
				}
			})
		</script>
	</body>

</html>